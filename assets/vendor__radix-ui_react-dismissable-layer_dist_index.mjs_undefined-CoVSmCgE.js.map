{"version":3,"file":"vendor__radix-ui_react-dismissable-layer_dist_index.mjs_undefined-CoVSmCgE.js","sources":["../../frontend/node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs"],"sourcesContent":["\"use client\";\n\n// src/dismissable-layer.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { Primitive, dispatchDiscreteCustomEvent } from \"@radix-ui/react-primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useEscapeKeydown } from \"@radix-ui/react-use-escape-keydown\";\nimport { jsx } from \"react/jsx-runtime\";\nvar DISMISSABLE_LAYER_NAME = \"DismissableLayer\";\nvar CONTEXT_UPDATE = \"dismissableLayer.update\";\nvar POINTER_DOWN_OUTSIDE = \"dismissableLayer.pointerDownOutside\";\nvar FOCUS_OUTSIDE = \"dismissableLayer.focusOutside\";\nvar originalBodyPointerEvents;\nvar DismissableLayerContext = React.createContext({\n  layers: /* @__PURE__ */ new Set(),\n  layersWithOutsidePointerEventsDisabled: /* @__PURE__ */ new Set(),\n  branches: /* @__PURE__ */ new Set()\n});\nvar DismissableLayer = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      disableOutsidePointerEvents = false,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      ...layerProps\n    } = props;\n    const context = React.useContext(DismissableLayerContext);\n    const [node, setNode] = React.useState(null);\n    const ownerDocument = node?.ownerDocument ?? globalThis?.document;\n    const [, force] = React.useState({});\n    const composedRefs = useComposedRefs(forwardedRef, (node2) => setNode(node2));\n    const layers = Array.from(context.layers);\n    const [highestLayerWithOutsidePointerEventsDisabled] = [...context.layersWithOutsidePointerEventsDisabled].slice(-1);\n    const highestLayerWithOutsidePointerEventsDisabledIndex = layers.indexOf(highestLayerWithOutsidePointerEventsDisabled);\n    const index = node ? layers.indexOf(node) : -1;\n    const isBodyPointerEventsDisabled = context.layersWithOutsidePointerEventsDisabled.size > 0;\n    const isPointerEventsEnabled = index >= highestLayerWithOutsidePointerEventsDisabledIndex;\n    const pointerDownOutside = usePointerDownOutside((event) => {\n      const target = event.target;\n      const isPointerDownOnBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (!isPointerEventsEnabled || isPointerDownOnBranch) return;\n      onPointerDownOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    }, ownerDocument);\n    const focusOutside = useFocusOutside((event) => {\n      const target = event.target;\n      const isFocusInBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (isFocusInBranch) return;\n      onFocusOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    }, ownerDocument);\n    useEscapeKeydown((event) => {\n      const isHighestLayer = index === context.layers.size - 1;\n      if (!isHighestLayer) return;\n      onEscapeKeyDown?.(event);\n      if (!event.defaultPrevented && onDismiss) {\n        event.preventDefault();\n        onDismiss();\n      }\n    }, ownerDocument);\n    React.useEffect(() => {\n      if (!node) return;\n      if (disableOutsidePointerEvents) {\n        if (context.layersWithOutsidePointerEventsDisabled.size === 0) {\n          originalBodyPointerEvents = ownerDocument.body.style.pointerEvents;\n          ownerDocument.body.style.pointerEvents = \"none\";\n        }\n        context.layersWithOutsidePointerEventsDisabled.add(node);\n      }\n      context.layers.add(node);\n      dispatchUpdate();\n      return () => {\n        if (disableOutsidePointerEvents && context.layersWithOutsidePointerEventsDisabled.size === 1) {\n          ownerDocument.body.style.pointerEvents = originalBodyPointerEvents;\n        }\n      };\n    }, [node, ownerDocument, disableOutsidePointerEvents, context]);\n    React.useEffect(() => {\n      return () => {\n        if (!node) return;\n        context.layers.delete(node);\n        context.layersWithOutsidePointerEventsDisabled.delete(node);\n        dispatchUpdate();\n      };\n    }, [node, context]);\n    React.useEffect(() => {\n      const handleUpdate = () => force({});\n      document.addEventListener(CONTEXT_UPDATE, handleUpdate);\n      return () => document.removeEventListener(CONTEXT_UPDATE, handleUpdate);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        ...layerProps,\n        ref: composedRefs,\n        style: {\n          pointerEvents: isBodyPointerEventsDisabled ? isPointerEventsEnabled ? \"auto\" : \"none\" : void 0,\n          ...props.style\n        },\n        onFocusCapture: composeEventHandlers(props.onFocusCapture, focusOutside.onFocusCapture),\n        onBlurCapture: composeEventHandlers(props.onBlurCapture, focusOutside.onBlurCapture),\n        onPointerDownCapture: composeEventHandlers(\n          props.onPointerDownCapture,\n          pointerDownOutside.onPointerDownCapture\n        )\n      }\n    );\n  }\n);\nDismissableLayer.displayName = DISMISSABLE_LAYER_NAME;\nvar BRANCH_NAME = \"DismissableLayerBranch\";\nvar DismissableLayerBranch = React.forwardRef((props, forwardedRef) => {\n  const context = React.useContext(DismissableLayerContext);\n  const ref = React.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      context.branches.add(node);\n      return () => {\n        context.branches.delete(node);\n      };\n    }\n  }, [context.branches]);\n  return /* @__PURE__ */ jsx(Primitive.div, { ...props, ref: composedRefs });\n});\nDismissableLayerBranch.displayName = BRANCH_NAME;\nfunction usePointerDownOutside(onPointerDownOutside, ownerDocument = globalThis?.document) {\n  const handlePointerDownOutside = useCallbackRef(onPointerDownOutside);\n  const isPointerInsideReactTreeRef = React.useRef(false);\n  const handleClickRef = React.useRef(() => {\n  });\n  React.useEffect(() => {\n    const handlePointerDown = (event) => {\n      if (event.target && !isPointerInsideReactTreeRef.current) {\n        let handleAndDispatchPointerDownOutsideEvent2 = function() {\n          handleAndDispatchCustomEvent(\n            POINTER_DOWN_OUTSIDE,\n            handlePointerDownOutside,\n            eventDetail,\n            { discrete: true }\n          );\n        };\n        var handleAndDispatchPointerDownOutsideEvent = handleAndDispatchPointerDownOutsideEvent2;\n        const eventDetail = { originalEvent: event };\n        if (event.pointerType === \"touch\") {\n          ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n          handleClickRef.current = handleAndDispatchPointerDownOutsideEvent2;\n          ownerDocument.addEventListener(\"click\", handleClickRef.current, { once: true });\n        } else {\n          handleAndDispatchPointerDownOutsideEvent2();\n        }\n      } else {\n        ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n      }\n      isPointerInsideReactTreeRef.current = false;\n    };\n    const timerId = window.setTimeout(() => {\n      ownerDocument.addEventListener(\"pointerdown\", handlePointerDown);\n    }, 0);\n    return () => {\n      window.clearTimeout(timerId);\n      ownerDocument.removeEventListener(\"pointerdown\", handlePointerDown);\n      ownerDocument.removeEventListener(\"click\", handleClickRef.current);\n    };\n  }, [ownerDocument, handlePointerDownOutside]);\n  return {\n    // ensures we check React component tree (not just DOM tree)\n    onPointerDownCapture: () => isPointerInsideReactTreeRef.current = true\n  };\n}\nfunction useFocusOutside(onFocusOutside, ownerDocument = globalThis?.document) {\n  const handleFocusOutside = useCallbackRef(onFocusOutside);\n  const isFocusInsideReactTreeRef = React.useRef(false);\n  React.useEffect(() => {\n    const handleFocus = (event) => {\n      if (event.target && !isFocusInsideReactTreeRef.current) {\n        const eventDetail = { originalEvent: event };\n        handleAndDispatchCustomEvent(FOCUS_OUTSIDE, handleFocusOutside, eventDetail, {\n          discrete: false\n        });\n      }\n    };\n    ownerDocument.addEventListener(\"focusin\", handleFocus);\n    return () => ownerDocument.removeEventListener(\"focusin\", handleFocus);\n  }, [ownerDocument, handleFocusOutside]);\n  return {\n    onFocusCapture: () => isFocusInsideReactTreeRef.current = true,\n    onBlurCapture: () => isFocusInsideReactTreeRef.current = false\n  };\n}\nfunction dispatchUpdate() {\n  const event = new CustomEvent(CONTEXT_UPDATE);\n  document.dispatchEvent(event);\n}\nfunction handleAndDispatchCustomEvent(name, handler, detail, { discrete }) {\n  const target = detail.originalEvent.target;\n  const event = new CustomEvent(name, { bubbles: false, cancelable: true, detail });\n  if (handler) target.addEventListener(name, handler, { once: true });\n  if (discrete) {\n    dispatchDiscreteCustomEvent(target, event);\n  } else {\n    target.dispatchEvent(event);\n  }\n}\nvar Root = DismissableLayer;\nvar Branch = DismissableLayerBranch;\nexport {\n  Branch,\n  DismissableLayer,\n  DismissableLayerBranch,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n"],"names":["DISMISSABLE_LAYER_NAME","CONTEXT_UPDATE","POINTER_DOWN_OUTSIDE","FOCUS_OUTSIDE","originalBodyPointerEvents","DismissableLayerContext","React.createContext","DismissableLayer","React.forwardRef","props","forwardedRef","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","layerProps","context","React.useContext","node","setNode","React.useState","ownerDocument","force","composedRefs","useComposedRefs","node2","layers","highestLayerWithOutsidePointerEventsDisabled","highestLayerWithOutsidePointerEventsDisabledIndex","index","isBodyPointerEventsDisabled","isPointerEventsEnabled","pointerDownOutside","usePointerDownOutside","event","target","isPointerDownOnBranch","branch","focusOutside","useFocusOutside","useEscapeKeydown","React.useEffect","dispatchUpdate","handleUpdate","jsx","Primitive","composeEventHandlers","BRANCH_NAME","DismissableLayerBranch","ref","React.useRef","handlePointerDownOutside","useCallbackRef","isPointerInsideReactTreeRef","handleClickRef","handlePointerDown","handleAndDispatchPointerDownOutsideEvent2","handleAndDispatchCustomEvent","eventDetail","timerId","handleFocusOutside","isFocusInsideReactTreeRef","handleFocus","name","handler","detail","discrete","dispatchDiscreteCustomEvent"],"mappings":"4nBAUA,IAAIA,EAAyB,mBACzBC,EAAiB,0BACjBC,EAAuB,sCACvBC,EAAgB,gCAChBC,EACAC,EAA0BC,EAAAA,cAAoB,CAChD,OAAwB,IAAI,IAC5B,uCAAwD,IAAI,IAC5D,SAA0B,IAAI,GAChC,CAAC,EACGC,EAAmBC,EAAAA,WACrB,CAACC,EAAOC,IAAiB,CACvB,KAAM,CACJ,4BAAAC,EAA8B,GAC9B,gBAAAC,EACA,qBAAAC,EACA,eAAAC,EACA,kBAAAC,EACA,UAAAC,EACA,GAAGC,CACT,EAAQR,EACES,EAAUC,EAAAA,WAAiBd,CAAuB,EAClD,CAACe,EAAMC,CAAO,EAAIC,EAAAA,SAAe,IAAI,EACrCC,EAAgBH,GAAM,eAAiB,YAAY,SACnD,EAAGI,CAAK,EAAIF,EAAAA,SAAe,EAAE,EAC7BG,EAAeC,EAAgBhB,EAAeiB,GAAUN,EAAQM,CAAK,CAAC,EACtEC,EAAS,MAAM,KAAKV,EAAQ,MAAM,EAClC,CAACW,CAA4C,EAAI,CAAC,GAAGX,EAAQ,sCAAsC,EAAE,MAAM,EAAE,EAC7GY,EAAoDF,EAAO,QAAQC,CAA4C,EAC/GE,EAAQX,EAAOQ,EAAO,QAAQR,CAAI,EAAI,GACtCY,EAA8Bd,EAAQ,uCAAuC,KAAO,EACpFe,EAAyBF,GAASD,EAClCI,EAAqBC,EAAuBC,GAAU,CAC1D,MAAMC,EAASD,EAAM,OACfE,EAAwB,CAAC,GAAGpB,EAAQ,QAAQ,EAAE,KAAMqB,GAAWA,EAAO,SAASF,CAAM,CAAC,EACxF,CAACJ,GAA0BK,IAC/BzB,IAAuBuB,CAAK,EAC5BrB,IAAoBqB,CAAK,EACpBA,EAAM,kBAAkBpB,IAAS,EACxC,EAAGO,CAAa,EACViB,EAAeC,EAAiBL,GAAU,CAC9C,MAAMC,EAASD,EAAM,OACG,CAAC,GAAGlB,EAAQ,QAAQ,EAAE,KAAMqB,GAAWA,EAAO,SAASF,CAAM,CAAC,IAEtFvB,IAAiBsB,CAAK,EACtBrB,IAAoBqB,CAAK,EACpBA,EAAM,kBAAkBpB,IAAS,EACxC,EAAGO,CAAa,EAChB,OAAAmB,EAAkBN,GAAU,CACHL,IAAUb,EAAQ,OAAO,KAAO,IAEvDN,IAAkBwB,CAAK,EACnB,CAACA,EAAM,kBAAoBpB,IAC7BoB,EAAM,eAAc,EACpBpB,EAAS,GAEb,EAAGO,CAAa,EAChBoB,EAAAA,UAAgB,IAAM,CACpB,GAAKvB,EACL,OAAIT,IACEO,EAAQ,uCAAuC,OAAS,IAC1Dd,EAA4BmB,EAAc,KAAK,MAAM,cACrDA,EAAc,KAAK,MAAM,cAAgB,QAE3CL,EAAQ,uCAAuC,IAAIE,CAAI,GAEzDF,EAAQ,OAAO,IAAIE,CAAI,EACvBwB,EAAc,EACP,IAAM,CACPjC,GAA+BO,EAAQ,uCAAuC,OAAS,IACzFK,EAAc,KAAK,MAAM,cAAgBnB,EAE7C,CACF,EAAG,CAACgB,EAAMG,EAAeZ,EAA6BO,CAAO,CAAC,EAC9DyB,EAAAA,UAAgB,IACP,IAAM,CACNvB,IACLF,EAAQ,OAAO,OAAOE,CAAI,EAC1BF,EAAQ,uCAAuC,OAAOE,CAAI,EAC1DwB,EAAc,EAChB,EACC,CAACxB,EAAMF,CAAO,CAAC,EAClByB,EAAAA,UAAgB,IAAM,CACpB,MAAME,EAAe,IAAMrB,EAAM,EAAE,EACnC,gBAAS,iBAAiBvB,EAAgB4C,CAAY,EAC/C,IAAM,SAAS,oBAAoB5C,EAAgB4C,CAAY,CACxE,EAAG,CAAA,CAAE,EACkBC,EAAAA,IACrBC,EAAU,IACV,CACE,GAAG9B,EACH,IAAKQ,EACL,MAAO,CACL,cAAeO,EAA8BC,EAAyB,OAAS,OAAS,OACxF,GAAGxB,EAAM,KACnB,EACQ,eAAgBuC,EAAqBvC,EAAM,eAAgB+B,EAAa,cAAc,EACtF,cAAeQ,EAAqBvC,EAAM,cAAe+B,EAAa,aAAa,EACnF,qBAAsBQ,EACpBvC,EAAM,qBACNyB,EAAmB,oBAC7B,CACA,CACA,CACE,CACF,EACA3B,EAAiB,YAAcP,EAC/B,IAAIiD,EAAc,yBACdC,EAAyB1C,EAAAA,WAAiB,CAACC,EAAOC,IAAiB,CACrE,MAAMQ,EAAUC,EAAAA,WAAiBd,CAAuB,EAClD8C,EAAMC,EAAAA,OAAa,IAAI,EACvB3B,EAAeC,EAAgBhB,EAAcyC,CAAG,EACtDR,OAAAA,EAAAA,UAAgB,IAAM,CACpB,MAAMvB,EAAO+B,EAAI,QACjB,GAAI/B,EACF,OAAAF,EAAQ,SAAS,IAAIE,CAAI,EAClB,IAAM,CACXF,EAAQ,SAAS,OAAOE,CAAI,CAC9B,CAEJ,EAAG,CAACF,EAAQ,QAAQ,CAAC,EACE4B,EAAAA,IAAIC,EAAU,IAAK,CAAE,GAAGtC,EAAO,IAAKgB,EAAc,CAC3E,CAAC,EACDyB,EAAuB,YAAcD,EACrC,SAASd,EAAsBtB,EAAsBU,EAAgB,YAAY,SAAU,CACzF,MAAM8B,EAA2BC,EAAezC,CAAoB,EAC9D0C,EAA8BH,EAAAA,OAAa,EAAK,EAChDI,EAAiBJ,EAAAA,OAAa,IAAM,CAC1C,CAAC,EACDT,OAAAA,EAAAA,UAAgB,IAAM,CACpB,MAAMc,EAAqBrB,GAAU,CACnC,GAAIA,EAAM,QAAU,CAACmB,EAA4B,QAAS,CACxD,IAAIG,EAA4C,UAAW,CACzDC,EACEzD,EACAmD,EACAO,EACA,CAAE,SAAU,EAAI,CAC5B,CACQ,EAEA,MAAMA,EAAc,CAAE,cAAexB,CAAK,EACtCA,EAAM,cAAgB,SACxBb,EAAc,oBAAoB,QAASiC,EAAe,OAAO,EACjEA,EAAe,QAAUE,EACzBnC,EAAc,iBAAiB,QAASiC,EAAe,QAAS,CAAE,KAAM,GAAM,GAE9EE,EAAyC,CAE7C,MACEnC,EAAc,oBAAoB,QAASiC,EAAe,OAAO,EAEnED,EAA4B,QAAU,EACxC,EACMM,EAAU,OAAO,WAAW,IAAM,CACtCtC,EAAc,iBAAiB,cAAekC,CAAiB,CACjE,EAAG,CAAC,EACJ,MAAO,IAAM,CACX,OAAO,aAAaI,CAAO,EAC3BtC,EAAc,oBAAoB,cAAekC,CAAiB,EAClElC,EAAc,oBAAoB,QAASiC,EAAe,OAAO,CACnE,CACF,EAAG,CAACjC,EAAe8B,CAAwB,CAAC,EACrC,CAEL,qBAAsB,IAAME,EAA4B,QAAU,EACtE,CACA,CACA,SAASd,EAAgB3B,EAAgBS,EAAgB,YAAY,SAAU,CAC7E,MAAMuC,EAAqBR,EAAexC,CAAc,EAClDiD,EAA4BX,EAAAA,OAAa,EAAK,EACpDT,OAAAA,EAAAA,UAAgB,IAAM,CACpB,MAAMqB,EAAe5B,GAAU,CACzBA,EAAM,QAAU,CAAC2B,EAA0B,SAE7CJ,EAA6BxD,EAAe2D,EADxB,CAAE,cAAe1B,CAAK,EACmC,CAC3E,SAAU,EACpB,CAAS,CAEL,EACA,OAAAb,EAAc,iBAAiB,UAAWyC,CAAW,EAC9C,IAAMzC,EAAc,oBAAoB,UAAWyC,CAAW,CACvE,EAAG,CAACzC,EAAeuC,CAAkB,CAAC,EAC/B,CACL,eAAgB,IAAMC,EAA0B,QAAU,GAC1D,cAAe,IAAMA,EAA0B,QAAU,EAC7D,CACA,CACA,SAASnB,GAAiB,CACxB,MAAMR,EAAQ,IAAI,YAAYnC,CAAc,EAC5C,SAAS,cAAcmC,CAAK,CAC9B,CACA,SAASuB,EAA6BM,EAAMC,EAASC,EAAQ,CAAE,SAAAC,CAAQ,EAAI,CACzE,MAAM/B,EAAS8B,EAAO,cAAc,OAC9B/B,EAAQ,IAAI,YAAY6B,EAAM,CAAE,QAAS,GAAO,WAAY,GAAM,OAAAE,EAAQ,EAC5ED,GAAS7B,EAAO,iBAAiB4B,EAAMC,EAAS,CAAE,KAAM,GAAM,EAC9DE,EACFC,EAA4BhC,EAAQD,CAAK,EAEzCC,EAAO,cAAcD,CAAK,CAE9B","x_google_ignoreList":[0]}