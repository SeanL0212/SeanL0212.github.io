{"type":"document","children":[{"type":"heading","children":[{"type":"text","content":"Scalability "},{"type":"emphasis","children":[{"type":"text","content":"p10"}]}],"attributes":{"id":"scalability-p10","level":1}},{"type":"blockQuote","children":[{"type":"paragraph","children":[{"type":"text","content":"Even if a system is working reliably today, that doesn't mean it will necessarily work reliably in the future."}]}]},{"type":"paragraph","children":[{"type":"text"},{"type":"strong","children":[{"type":"text","content":"Scalability"}]},{"type":"text","content":" is the term used to describe a system's ability to cope with increased load. Therefore, the first step is to define how we describe load"}]},{"type":"heading","children":[{"type":"text","content":"Describing Load "},{"type":"emphasis","children":[{"type":"text","content":"p11"}]}],"attributes":{"id":"describing-load-p11","level":2}},{"type":"paragraph","children":[{"type":"text","content":"Load can be described with a few numbers called load parameters. For example:"}]},{"type":"list","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"Requests per second"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"Ratio of reads to writes in a database"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"Hit rate on a cache"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"And other relevant metrics"}]}]}],"attributes":{"ordered":false,"tight":true}},{"type":"heading","children":[{"type":"text","content":"Describing Performance "},{"type":"emphasis","children":[{"type":"text","content":"p13"}]}],"attributes":{"id":"describing-performance-p13","level":2}},{"type":"paragraph","children":[{"type":"text","content":"When load changes, there are two perspectives to consider:"}]},{"type":"list","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"If system resources remain unchanged, how will performance be affected by the increased load?"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"To maintain consistent performance, how should system resources be adjusted?"}]}]}],"attributes":{"ordered":false,"tight":true}},{"type":"paragraph","children":[{"type":"text","content":"Performance metrics typically include:"}]},{"type":"list","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"Throughput (usually measured in "},{"type":"emphasis","children":[{"type":"text","content":"batch processing systems"}]},{"type":"text","content":")"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"Response time (usually critical in "},{"type":"emphasis","children":[{"type":"text","content":"online systems"}]},{"type":"text","content":")"}]}]}],"attributes":{"ordered":false,"tight":true}},{"type":"heading","children":[{"type":"text","content":"The Metrics "},{"type":"emphasis","children":[{"type":"text","content":"p14"}]}],"attributes":{"id":"the-metrics-p14","level":3}},{"type":"paragraph","children":[{"type":"text"},{"type":"emphasis","children":[{"type":"text","content":"Average"}]},{"type":"text","content":" response time is not a suitable metric, as it doesn't reveal how many users experienced delays. It's better to use "},{"type":"emphasis","children":[{"type":"text","content":"percentiles"}]},{"type":"text","content":"."}]},{"type":"blockQuote","children":[{"type":"paragraph","children":[{"type":"text","content":"The "},{"type":"emphasis","children":[{"type":"text","content":"95th"}]},{"type":"text","content":", "},{"type":"emphasis","children":[{"type":"text","content":"99th"}]},{"type":"text","content":", and "},{"type":"emphasis","children":[{"type":"text","content":"99.9th"}]},{"type":"text","content":" percentiles are commonly used (abbreviated as "},{"type":"emphasis","children":[{"type":"text","content":"p95"}]},{"type":"text","content":", "},{"type":"emphasis","children":[{"type":"text","content":"p99"}]},{"type":"text","content":", and "},{"type":"emphasis","children":[{"type":"text","content":"p999"}]},{"type":"text","content":")"}]}]},{"type":"paragraph","children":[{"type":"text","content":"There's always a trade-off between optimizing for higher percentiles and cost. For example, in an online shopping system, the slowest requests often represent the heaviest payloadsâ€”typically from customers making the most purchases, who are often the most valuable. Optimizing for higher percentiles means providing better service to your most valuable customers."}]},{"type":"paragraph","children":[{"type":"text","content":"Another important concept is "},{"type":"emphasis","children":[{"type":"text","content":"queueing delay"}]},{"type":"text","content":" or "},{"type":"emphasis","children":[{"type":"text","content":"head-of-line blocking"}]},{"type":"text","content":". In a sequence of operations, a slow operation that must be processed before others will cause significant lag throughout the system, even if subsequent operations are fast to process."}]},{"type":"paragraph","children":[{"type":"text"},{"type":"strong","children":[{"type":"text","content":"Testing Tip"}]},{"type":"text","content":": When load testing, clients should not wait for the previous request to complete before sending the next one. This approach would create artificially shorter queues and therefore skew the measurements."}]},{"type":"heading","children":[{"type":"text","content":"Coping with Load "},{"type":"emphasis","children":[{"type":"text","content":"p17"}]}],"attributes":{"id":"coping-with-load-p17","level":2}},{"type":"paragraph","children":[{"type":"text","content":"The primary way to handle increased load is to "},{"type":"strong","children":[{"type":"text","content":"increase"}]},{"type":"text","content":" resources. There are two main approaches to scaling:"}]},{"type":"list","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text"},{"type":"strong","children":[{"type":"text","content":"Scaling up"}]},{"type":"text","content":" (vertical scaling): Using more powerful machines"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text"},{"type":"strong","children":[{"type":"text","content":"Scaling out"}]},{"type":"text","content":" (horizontal scaling): Distributing the load across more machines"}]}]}],"attributes":{"ordered":false,"tight":true}},{"type":"paragraph","children":[{"type":"text","content":"A system that supports horizontal scaling is called a "},{"type":"emphasis","children":[{"type":"text","content":"distributed system"}]},{"type":"text","content":". This typically requires a "},{"type":"emphasis","children":[{"type":"text","content":"shared-nothing"}]},{"type":"text","content":" architecture, also called a "},{"type":"emphasis","children":[{"type":"text","content":"stateless"}]},{"type":"text","content":" architecture. While it's possible to implement "},{"type":"emphasis","children":[{"type":"text","content":"stateful"}]},{"type":"text","content":" architectures in distributed systems, doing so requires careful consideration and design. In practice, the common approach is to scale up stateful services and scale out stateless services."}]},{"type":"heading","children":[{"type":"text","content":"Various Load Factors "},{"type":"emphasis","children":[{"type":"text","content":"p18"}]}],"attributes":{"id":"various-load-factors-p18","level":3}},{"type":"paragraph","children":[{"type":"text","content":"Systems must cope with various types of load, including:"}]},{"type":"list","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"Volume of reads"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"Volume of writes"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"Volume of data to store"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"Complexity of data"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"Response time requirements"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"Access patterns"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"text","content":"And many other factors"}]}]}],"attributes":{"ordered":false,"tight":true}},{"type":"paragraph","children":[{"type":"text","content":"Due to this diversity, there is no one-size-fits-all scalable architecture. However, even though scalable architectures are specific to particular applications, they are typically built from general-purpose building blocks arranged in familiar patterns, which will be discussed in later chapters."}]}],"attributes":{"date":"2025-09-10","tags":["book","designing data intensive applications"],"title":"Scalability"}}